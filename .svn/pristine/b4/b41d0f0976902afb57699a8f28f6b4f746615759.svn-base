<template>
    <div>
        <div class="search">
            <el-input v-model="search.luyin" placeholder="录音人" class="searchInput" size="mini" clearable></el-input>
            <el-select v-model="search.type" placeholder="用户等级" class="searchInput" size="mini" clearable>
                <el-option label="大V" value="0"></el-option>
                <el-option label="新秀" value="1"></el-option>
            </el-select>
            <el-button type="primary" size="mini" @click="showList()" plain>查询</el-button>
        </div>
        <section>
            <el-table :data="tableData" style="width: 100%" border size="mini">
                <el-table-column prop="date" label="录音时间" align="center"></el-table-column>
                <el-table-column prop="date" label="录音人" align="center"></el-table-column>
                <el-table-column prop="date" label="用户等级" align="center"></el-table-column>
                <el-table-column prop="date" label="价格/条" align="center"></el-table-column>
                <el-table-column prop="date" label="购买次数" align="center"></el-table-column>
                <el-table-column prop="date" label="播放语音" align="center">
                    <template slot-scope="props">
                        <audio-player style="margin-left:calc(50% - 50px)"/>
                    </template>
                </el-table-column>
                <el-table-column prop="date" label="审核" align="center">
                     <template slot-scope="props">
                         <el-button type="danger" size="mini" plain @click="deletePost()">删除</el-button>
                     </template>
                </el-table-column>
            </el-table>
            <div class="block" style="float: right;margin-top: 15px">
                <el-pagination layout="total,prev, pager, next" :page-size="size" background :page-count="1" :total="total" @current-change="handleCurrentChange"></el-pagination>
            </div>
        </section>
    </div>
</template>

<script>
import audioPlayer from '../../components/audioPlayer'
    export default {
        name: "soundStore",
        components:{
           'audio-player': audioPlayer
        },
        data(){
            return{
                search:{
                    type:'',        //搜索项
                    luyin:'',       //录音人
                    deleted:'',     //已删除
                    unreviewed:'',  //未审核
                },
                tableData:[
                    {
                        date:'123'
                    }
                ],
                page:1,   //分页
                total:null,   //分页总条目数
                size:null,   //分页页数
            }
        },
        created(){
            this.showList();
        },
        methods:{
            // 分页
            handleCurrentChange(val){
                this.page = val;
            },
            showList(){

            },
            // 删除
            deletePost() {
                this.$confirm("确定删除此条信息吗？", "提示", {
                confirmButtonText: "确定",
                cancelButtonText: "取消",
                type: "warning"
                })
                .then(() => {
                    this.$message({
                    type: "success",
                    message: "删除成功!"
                    });
                })
                .catch(() => {
                    this.$message({
                    type: "info",
                    message: "已取消删除"
                    });
                });
            }
        }
    }
</script>

<style scoped lang="less">
.searchInput{
    width: 150px;
    margin-right: 12px;
}
section{
    margin-top: 15px;
}
</style>
