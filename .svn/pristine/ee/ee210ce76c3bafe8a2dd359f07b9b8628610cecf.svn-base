<template>
    <div>
        <el-breadcrumb separator="/">
            <el-breadcrumb-item :to="{ path: '/discover/official' }" >官方动态</el-breadcrumb-item>
            <el-breadcrumb-item class="now_page">发现审核</el-breadcrumb-item>
        </el-breadcrumb>
        <div class="search">
            <el-select v-model="search.status" placeholder="选择列表状态" size="mini" style="float:left;">
                <el-option label="推荐" value="0"></el-option>
                <el-option label="关注" value="1"></el-option>
                <el-option label="最新" value="2"></el-option>
            </el-select>
            <el-select v-model="search.type" placeholder="选择媒体类型" size="mini" style="float:left;margin:0 10px;" clearable>
                <el-option label="所有媒体类" value="0"></el-option>
                <el-option label="图片" value="1"></el-option>
                <el-option label="视频" value="2"></el-option>
                <el-option label="纯文本" value="3"></el-option>
                <el-option label="语音" value="4"></el-option>
            </el-select>
            <el-button type="primary" plain size="mini" style="float:left" @click="showList()">查询</el-button>
        </div>
        <el-table :data="tableData" style="width: 100%;margin-top:15px;" border size="mini">
            <el-table-column prop="id" label="序号" align="center"></el-table-column>
            <el-table-column label="用户名称" align="center">
                <template slot-scope="props">
                    <el-button type="text" @click="$router.push({name:'userPersonalFile'})" >{{ props.row.name }}</el-button>
                </template>
            </el-table-column>
            <el-table-column prop="address" label="文字内容" align="center"></el-table-column>
            <el-table-column prop="address" label="媒体内容" align="center"></el-table-column>
            <el-table-column prop="address" label="转发数" align="center" sortable></el-table-column>
            <el-table-column prop="address" label="位置" align="center"></el-table-column>
            <el-table-column prop="address" label="选择标签" align="center"></el-table-column>
            <el-table-column prop="address" label="操作" align="center">
                <template slot-scope="props">
                    <el-button type="text" size="mini" plain class="caozuoBtn zdBtn">置顶到推荐</el-button>
                    <!-- <el-button type="text" size="mini" plain class="caozuoBtn">取消置顶推荐</el-button> -->
                    <el-button type="text" size="mini" plain class="caozuoBtn">查看评论</el-button>
                    <el-button type="text" size="mini" plain class="caozuoBtn deleteBtn" @click="deletePost()">删除</el-button>
                </template>
            </el-table-column>
        </el-table>
        <div class="block" style="float: right;margin-top: 15px">
            <el-pagination layout="total,prev, pager, next" :page-size="size" background :page-count="1" :total="total" @current-change="handleCurrentChange"></el-pagination>
        </div>
    </div>
</template>

<script>
export default {
  name: "audit", //发现审核
  data() {
    return {
      search: {
        status: "", //列表状态
        type: "" //媒体类型
      },
      tableData: [], //列表
      page:1,   //当前页
      total:null,   //条目总数
      size:null,    //每页数
    };
  },
  created() {
    this.showList();
  },
  methods: {
    // 列表展示，搜索
    showList() {
        
    },
    handleCurrentChange(val){
      this.page = val;
    },
    deletePost() {
      this.$confirm("确定删除此条信息吗？", "提示", {
        confirmButtonText: "确定",
        cancelButtonText: "取消",
        type: "warning"
      })
        .then(() => {
          this.$message({
            type: "success",
            message: "删除成功!"
          });
        })
        .catch(() => {
          this.$message({
            type: "info",
            message: "已取消删除"
          });
        });
    }
  }
};
</script>

<style scoped lang="less">
.search {
  margin-top: 15px;
  overflow: hidden;
  width: 500px;
}
.caozuoBtn {
  display: block;
  margin: 5px auto;
}
.deleteBtn {
  color: red;
}
.zdBtn {
  color: #1fe01f;
}
</style>
