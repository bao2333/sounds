webpackJsonp([2],{VTWI:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Xxa5"),s=a.n(n),l=a("exGp"),i=a.n(l),o=a("bOdI"),r=a.n(o),u=a("gWLT"),c={props:{moneyType:Number},data:function(){return{loading:!1,size:null,pageSize:null,total:null,page:1,tableData:[]}},mounted:function(){this.getList()},methods:{handleCurrentChange:function(e){this.page=e,this.getList()},getList:function(){var e=this,t=this.page;this.loading=!0,this.$api.user.user_incomeDetails(function(t){e.loading=!1,e.tableData=t.result,e.total=t.pageInfo.total,e.size=t.pageInfo.pageSize,e.pageSize=t.pageInfo.pages},{pageNum:t,userId:parseInt(this.$route.params.userId),type:this.moneyType})}}},_=a("XyMi");var p=function(e){a("xuIi")},d=Object(_.a)(c,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",size:"mini",height:"300"}},[3!==e.moneyType?a("el-table-column",{attrs:{label:"具体的类型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==e.moneyType||1==e.moneyType?a("div",[e._v("\n                    "+e._s(0==t.row.type?"充值":1==t.row.type?"购买语音":2==t.row.type?"实时聊天":3==t.row.type?"预约聊天":4==t.row.type?"商城收入":5==t.row.type?"实时聊天收入":6==t.row.type?"预约聊天收入":"")+"\n               ")]):e._e(),e._v(" "),2==e.moneyType?a("div",{attrs:{v:""}},[e._v("\n                   "+e._s(0==t.row.quoteId?"支付宝充值":1==t.row.quoteId?"微信充值":2==t.row.quoteId?"苹果支付":"")+"\n               ")]):e._e()]}}])}):e._e(),e._v(" "),3!==e.moneyType?a("el-table-column",{attrs:{label:"产生金额",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(t.row.produceAmount)+"\n            ")]}}])}):e._e(),e._v(" "),3==e.moneyType?a("el-table-column",{attrs:{label:"申请金额",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(t.row.money)+"\n            ")]}}])}):e._e(),e._v(" "),3==e.moneyType?a("el-table-column",{attrs:{label:"当时的手续费",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(t.row.serviceCharge+"%")+"\n            ")]}}])}):e._e(),e._v(" "),3==e.moneyType?a("el-table-column",{attrs:{label:"实际到账金额",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(t.row.arrivalAmountMoney)+"\n            ")]}}])}):e._e(),e._v(" "),3==e.moneyType?a("el-table-column",{attrs:{label:"提现类型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(0==t.row.withdrawType?"支付宝":1==t.row.withdrawType?"微信":"")+"\n            ")]}}])}):e._e(),e._v(" "),3==e.moneyType?a("el-table-column",{attrs:{label:"当前状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(0==t.row.state?"等待审核处理":1==t.row.state?"已处理":2==t.row.state?"拒绝付款":3==t.row.state?"信息错误":"")+"\n            ")]}}])}):e._e(),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(e._f("moment")(new Date(t.row.createTime),"YYYY-MM-DD HH:mm:ss"))+"\n            ")]}}])})],1),e._v(" "),a("div",{staticClass:"block",staticStyle:{float:"right","margin-top":"15px"}},[a("el-pagination",{attrs:{layout:"total,prev, pager, next","page-size":e.size,background:"","page-count":e.pageSize,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)},[],!1,p,"data-v-c1916f2c",null).exports,v={name:"personalFile",components:{"audio-player":u.a,"jiaoyi-mingxi":d},data:function(){var e;return e={loading:!1,loadingBox:!1,dialogVisible:!1,personalData:{},personalDataBind:{},personalDataBindWB:{},personalDataBindWX:{},userNote:{},personalDataAuthentication:{},dataSelf:{},type:"",personal_js:""},r()(e,"type",1),r()(e,"soundData",[]),r()(e,"soundByData",[]),r()(e,"noLabelData",[]),e},created:function(){},mounted:function(){this.getList()},methods:{getList:function(){var e=this;this.loadingBox=!0,this.$api.user.personal_file(function(t){e.loadingBox=!1,e.personalData=t,e.personalDataAuthentication=t.authentication,e.personalDataBind=t.bind.phone,e.personalDataBindWB=t.bind.weiBoAuth,e.personalDataBindWX=t.bind.wechatAuth,e.userNote=t.userTakeNote,e.dataSelf=t.SelfIntroduction},{userId:parseInt(this.$route.params.userId)})},selectDialog:function(e){this.type=e,3==e?this.userSoundKu():4==e&&this.userBySound()},userSoundKu:function(){var e=this;this.loading=!0,this.$api.user.user_soundku(function(t){e.loading=!1,e.soundData=t},{userId:parseInt(this.$route.params.userId)})},userBySound:function(){var e=this;this.loading=!0,this.$api.user.user_bySound(function(t){e.loading=!1,e.soundByData=t},{userId:parseInt(this.$route.params.userId)})},dealDetails:function(){this.$api.user.user_dealDetails(function(e){},{userId:parseInt(this.$route.params.userId)})},selectNoLabel:function(){var e=this;this.$api.user.get_user_nolabel(function(t){e.noLabelData=t},{userId:parseInt(this.$route.params.userId)})},handleClickLabel:function(e,t){this.noLabelData.splice(e,1),this.personalData.labels.push(t)},submitLabel:function(){var e=this,t=[];this.personalData.labels.map(function(e){t.push(e.id)}),this.$api.user.editor_user_label(function(){e.$notify({type:"success",message:"修改标签成功！",title:"成功"}),e.dialogVisible=!1},{userId:parseInt(this.$route.params.userId),ids:t})},deleteLabel:function(e,t){var a=this;return i()(s.a.mark(function n(){return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.personalData.labels.splice(t,1);case 2:return n.next=4,a.noLabelData.push(e);case 4:case"end":return n.stop()}},n,a)}))()}}};var m=function(e){a("nLJV")},f=Object(_.a)(v,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/users/list"}}},[e._v("用户管理")]),e._v(" "),a("el-breadcrumb-item",{staticClass:"now_page"},[e._v("个人档案")])],1),e._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingBox,expression:"loadingBox"}],staticStyle:{overflow:"hidden"}},[a("header",{staticClass:"section_title"},[a("img",{attrs:{src:e.$oss.url+e.personalData.head,alt:"",width:"50",height:"50"}}),e._v(" "),a("h3",[e._v(e._s(e.personalData.name))])]),e._v(" "),a("section",{staticClass:"section_card"},[a("article",[e._m(0),e._v(" "),a("ul",[a("li",[a("span",[e._v("手机号")]),a("span",[e._v(e._s(e.personalDataBind.phoneNum))])]),e._v(" "),a("li",[a("span",[e._v("微博绑定")]),e._v(" "),a("span",{staticStyle:{"font-size":"18px",color:"blue"}},[e._v("\n            "+e._s(0==e.personalDataBindWB.binding?"未绑定":1==e.personalDataBindWB.binding?e.personalDataBindWB.weiBoName:"")+"\n          ")])]),e._v(" "),a("li",[a("span",[e._v("微信绑定")]),e._v(" "),a("span",{staticStyle:{"font-size":"18px",color:"blue"}},[e._v("\n            "+e._s(0==e.personalDataBindWX.binding?"未绑定":1==e.personalDataBindWX.binding?e.personalDataBindWX.wechatName:"")+"\n          ")])]),e._v(" "),a("li",[a("span",[e._v("举报别人")]),a("span",[e._v(e._s(e.personalData.reportCount)+"次")])]),e._v(" "),a("li",[a("span",[e._v("当周被人举报")]),a("span",[e._v(e._s(e.personalData.beReportCountInWeekday)+"次")])])])]),e._v(" "),a("article",[e._m(1),e._v(" "),a("ul",[a("li",[a("span",[e._v("生日")]),a("span",[e._v(e._s(e.personalData.birthday))])]),e._v(" "),a("li",[a("span",[e._v("位置")]),a("span",[e._v(e._s(null==e.personalData.location?"未设置":e.personalData.location))])]),e._v(" "),a("li",[a("span",[e._v("标签")]),e._v(" "),a("el-button",{staticClass:"select_label",attrs:{size:"mini"},on:{click:function(t){e.dialogVisible=!0,e.selectDialog(0),e.selectNoLabel()}}},[e._v("查看全部")])],1),e._v(" "),a("li",[a("span",[e._v("粉丝")]),a("span",[e._v(e._s(e.personalData.fansNum))])]),e._v(" "),a("li",[a("span",[e._v("关注")]),a("span",[e._v(e._s(e.personalData.followNum))])])])]),e._v(" "),a("article",[e._m(2),e._v(" "),a("ul",{staticClass:"sound_ku"},[a("li",[a("span",[e._v("个人介绍")]),e._v(" "),a("el-button",{staticClass:"select_label",attrs:{size:"mini"},on:{click:function(t){e.dialogVisible=!0,e.selectDialog(2)}}},[e._v("语音和头像")]),e._v(" "),a("span",[e._v(e._s(1==e.personalData.SelfIntroductionStatus?"待审核":""))])],1),e._v(" "),a("li",[a("span",[e._v("语音库")]),e._v(" "),a("el-button",{staticClass:"select_label",attrs:{size:"mini"},on:{click:function(t){e.dialogVisible=!0,e.selectDialog(3)}}},[e._v("查看全部")])],1),e._v(" "),a("li",[a("span",[e._v("购买语音库")]),e._v(" "),a("el-button",{staticClass:"select_label",attrs:{size:"mini"},on:{click:function(t){e.dialogVisible=!0,e.selectDialog(4)}}},[e._v("查看全部")])],1)])]),e._v(" "),a("article",[e._m(3),e._v(" "),a("ul",[a("li",[a("span",[e._v("账户余额")]),a("span",[e._v(" "+e._s(e.personalData.balance)+" 金币")])]),e._v(" "),a("li",[a("span",[e._v("总提现")]),a("span",[e._v(" +"+e._s(e.personalData.allIncomeWithdraw)+" 元")])]),e._v(" "),a("li",[a("span",[e._v("交易明细")]),e._v(" "),a("el-button",{staticClass:"select_label",attrs:{size:"mini"},on:{click:function(t){e.dialogVisible=!0,e.selectDialog(5)}}},[e._v("查看全部")])],1),e._v(" "),a("li",[a("span",[e._v("身份验证")]),e._v(" "),a("el-button",{staticClass:"select_label",attrs:{size:"mini"},on:{click:function(t){e.dialogVisible=!0,e.selectDialog(1)}}},[e._v("查看证件")]),e._v(" "),a("span",{staticStyle:{"font-size":"14px"}},[e._v(e._s(0==e.personalData.authenticationStatus?"未通过验证":1==e.personalData.authenticationStatus?"已通过验证":""))])],1)])]),e._v(" "),a("article",[void 0!==e.userNote.tone?a("div",[e._m(4),e._v(" "),a("header",[a("p",[e._v(e._s(e.userNote.tone)+" "+e._s(e.userNote.toneNum+"%"))]),e._v(" "),a("p",[e._v(e._s(e.userNote.musicalityOne)+" "+e._s(e.userNote.musicalityOneNum+"%"))]),e._v(" "),a("p",[e._v(e._s(e.userNote.musicalityTwo)+" "+e._s(e.userNote.musicalityTwoNum+"%"))])]),e._v(" "),a("ul",{staticClass:"soundCard"},[a("li",[a("p",[e._v("星座")]),a("p",[e._v(e._s(e.userNote.constellation))])]),e._v(" "),a("li",[a("p",[e._v("属性")]),a("p",[e._v(e._s(e.userNote.soundProperties))])]),e._v(" "),a("li",[a("p",[e._v("最佳CP")]),a("p",[e._v(e._s(e.userNote.bestCp))])])]),e._v(" "),a("footer",[a("span",{staticStyle:{float:"left"}},[e._v("播放秀音:")]),e._v(" "),a("audio",{attrs:{src:e.$oss.url+e.userNote.voice,controls:"controls"}})])]):a("div",{staticClass:"xiuyin"},[a("h4",[e._v("该用户未设置秀音卡")])])]),e._v(" "),a("article",[e._m(5),e._v(" "),a("div",{staticClass:"moreInformation"},[a("el-button",{attrs:{type:"text"},on:{click:function(t){e.$router.push({name:"userHome",params:{userId:e.personalData.userId}})}}},[e._v("查看个人主页")]),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(t){e.$router.push({name:"MoneyUserCard",params:{name:e.personalData.name}})}}},[e._v("查看用户账单")]),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(t){e.$router.push({name:"userClose",params:{name:e.personalData.name}})}}},[e._v("查看查封账户")]),e._v(" "),a("p",[e._v("首次注册时间："),a("span",[e._v(e._s(e._f("moment")(new Date(e.personalData.createTime),"YYYY-MM-DD HH:mm:ss")))])]),e._v(" "),a("p",[e._v("最近使用Sounds："),a("span",[e._v(e._s(e._f("moment")(new Date(e.personalData.latestLogin),"YYYY-MM-DD HH:mm:ss")))])])],1)])])]),e._v(" "),a("el-dialog",{attrs:{title:0==e.type?"查看标签":1==e.type?"查看身份证":2==e.type?"查看语音和头像":3==e.type?"查看用户的语音库":4==e.type?"用户购买的语音库":5==e.type?"交易明细":"",visible:e.dialogVisible,width:"45%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[0==e.type?a("ul",{staticClass:"dialog_label"},e._l(e.personalData.labels,function(t,n){return a("li",{key:n},[e._v("\n          "+e._s(t.name)+"\n          "),a("i",{staticClass:"el-icon-error",on:{click:function(a){e.deleteLabel(t,n)}}})])}),0):e._e(),e._v(" "),0==e.type?a("div",{staticClass:"selectLabel"},[a("p",[e._v("未选择标签：")]),e._v(" "),a("ul",e._l(e.noLabelData,function(t,n){return a("li",{key:n,on:{click:function(a){e.handleClickLabel(n,t)}}},[e._v("\n              "+e._s(t.name)+"\n            ")])}),0),e._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"mini"},on:{click:function(t){e.submitLabel()}}},[e._v("提交")])],1):e._e(),e._v(" "),1==e.type?a("div",{staticClass:"dialog_idCard"},[a("img",{attrs:{src:e.$oss.url+e.personalDataAuthentication.frontCard,alt:""}}),e._v(" "),a("img",{attrs:{src:e.$oss.url+e.personalDataAuthentication.backCard,alt:""}})]):e._e(),e._v(" "),2==e.type?a("div",{staticClass:"dialog_personal"},[a("img",{attrs:{src:e.$oss.url+e.dataSelf.picture,alt:""}}),e._v(" "),a("audio-player",{staticStyle:{float:"left",margin:"30px 0 0 30px"},attrs:{url:e.dataSelf.voice,second:e.dataSelf.second}})],1):e._e(),e._v(" "),3==e.type?a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.soundData,border:"",height:"300"}},[a("el-table-column",{attrs:{label:"图片",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("img",{attrs:{src:e.$oss.url+t.row.picture,alt:"",width:"100"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"录音",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("audio-player",{staticStyle:{"margin-left":"20px"},attrs:{url:e.row.voice,form:1}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(0==t.row.status?"待审核":1==t.row.status?"已审核":"")+"\n            ")]}}])})],1)],1):e._e(),e._v(" "),4==e.type?a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.soundByData,border:"",height:"300"}},[a("el-table-column",{attrs:{label:"图片",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("img",{attrs:{src:e.$oss.url+t.row.picture,alt:"",width:"100"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"录音",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("audio-player",{staticStyle:{"margin-left":"20px"},attrs:{url:e.row.voice,form:1}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"购买时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(e._f("moment")(new Date(t.row.createTime),"YYYY-MM-DD HH:mm:ss"))+"\n            ")]}}])})],1)],1):e._e(),e._v(" "),5==e.type?a("div",[a("el-tabs",[a("el-tab-pane",{attrs:{label:"收益明细"}},[a("jiaoyi-mingxi",{attrs:{moneyType:0}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"支出明细"}},[a("jiaoyi-mingxi",{attrs:{moneyType:1}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"充值明细"}},[a("jiaoyi-mingxi",{attrs:{moneyType:2}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"提现明细"}},[a("jiaoyi-mingxi",{attrs:{moneyType:3}})],1)],1)],1):e._e()])],1)},[function(){var e=this.$createElement,t=this._self._c||e;return t("header",[t("h4",[this._v("账号状态")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("header",[t("h4",[this._v("个人信息")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("header",[t("h4",[this._v("语音库")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("header",[t("h4",[this._v("账单明细")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("header",[t("h4",[this._v("秀音卡")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("header",[t("h4",[this._v("更多信息")])])}],!1,m,"data-v-1988f19b",null);t.default=f.exports},bOdI:function(e,t,a){"use strict";t.__esModule=!0;var n,s=a("C4MV"),l=(n=s)&&n.__esModule?n:{default:n};t.default=function(e,t,a){return t in e?(0,l.default)(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},nLJV:function(e,t){},xuIi:function(e,t){}});