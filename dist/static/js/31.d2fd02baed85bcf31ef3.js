webpackJsonp([31],{"S+hn":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("XyMi");var o=function(t){i("aZBI")},a=Object(n.a)({data:function(){return{dialogVisible:!1,addShow:!0,tableData:[],add:{content:""},editor:{id:"",content:""},type:""}},created:function(){this.getList()},updated:function(){0==this.dialogVisible&&(this.type=""),this.addShow=!(this.tableData.length>=6)},methods:{getList:function(){var t=this;this.$api.jubao.jubao_content_list(function(e){t.tableData=e})},addContent:function(){var t=this;""==this.add.content?(this.$notify({type:"warning",message:"举报内容不能为空！!",title:"注意"}),this.dialogVisible=!0):this.$api.jubao.jubao_content_add(function(){t.$notify({type:"success",message:"添加成功!",title:"成功"}),t.getList()},{name:this.add.content})},deleteContent:function(t){var e=this;this.$confirm("确定要删除此条举报内容吗?","提示",{confirmButtonText:"狠心删除",cancelButtonText:"取消",type:"warning"}).then(function(){e.$api.jubao.jubao_content_delete(function(){e.getList(),e.$notify({type:"success",message:"删除内容成功!",title:"成功"})},{id:t})}).catch(function(){e.$message({type:"info",message:"已取消"})})},addGet:function(t){this.type=t,this.dialogVisible=!0},editorGet:function(t,e){this.type=e,this.editor.id=t.id,this.editor.content=t.name},editorPost:function(){var t=this;""==this.editor.content?(this.$notify({type:"warning",message:"举报内容不能为空！!",title:"注意"}),this.dialogVisible=!0):this.$api.jubao.jubao_content_editor(function(){t.getList(),t.$notify({type:"success",message:"修改内容成功!",title:"成功"})},{id:this.editor.id,name:this.editor.content})}}},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-button",{directives:[{name:"show",rawName:"v-show",value:t.addShow,expression:"addShow"}],attrs:{type:"primary",size:"mini"},on:{click:function(e){t.addGet(1)}}},[t._v("添加")]),t._v(" "),i("el-table",{staticStyle:{width:"50%","margin-top":"15px"},attrs:{data:t.tableData,border:""}},[i("el-table-column",{attrs:{prop:"name",label:"举报内容",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(i){t.deleteContent(e.row.id)}}},[t._v("删除")]),t._v(" "),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(i){t.dialogVisible=!0,t.editorGet(e.row,0)}}},[t._v("修改")])]}}])})],1),t._v(" "),i("el-dialog",{attrs:{title:0==t.type?"修改":"添加",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[0==t.type?i("el-input",{model:{value:t.editor.content,callback:function(e){t.$set(t.editor,"content",e)},expression:"editor.content"}}):i("el-input",{attrs:{placeholder:"请输入举报内容"},model:{value:t.add.content,callback:function(e){t.$set(t.add,"content",e)},expression:"add.content"}}),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"mini"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),1==t.type?i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.dialogVisible=!1,t.addContent()}}},[t._v("添 加")]):i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.dialogVisible=!1,t.editorPost()}}},[t._v("修 改")])],1)],1)],1)},[],!1,o,"data-v-5842e5ce",null);e.default=a.exports},aZBI:function(t,e){}});