webpackJsonp([40],{"iU+5":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l={name:"userCard",data:function(){return{dialogVisible:!1,loading:!1,dialogLoading:!1,wxShow:!1,wbshow:!1,selectInput:"",search:{username:"",phone:"",weibo:"",wx:"",idCard:""},tableData:[],billData:[],caozuo:"0",page:1,total:null,size:null,count:null,page1:1,total1:null,size1:null,count1:null,lowMoney:{},billCount:{}}},created:function(){this.$route.params.name&&(this.search.username=this.$route.params.name),this.showList()},methods:{handleCurrentChange:function(e){this.page=e,this.showList()},showList:function(){var e=this,t=this.page;this.loading=!0,this.$api.money.user_bill_list(function(t){e.loading=!1,3==e.selectInput?e.wxShow=!0:2==e.selectInput?e.wbshow=!0:(e.wxShow=!1,e.wbshow=!1),e.tableData=t.result,e.total=t.pageInfo.total,e.size=t.pageInfo.pageSize,e.count=t.pageInfo.pages},{pageNum:t,type:""==this.selectInput?null:parseInt(this.selectInput),name:""==this.search.username?null:this.search.username}),this.$api.money.low_money(function(t){e.lowMoney=t})},handleCurrentChange1:function(e){this.page1=e,this.getDetails(this.userId)},getDetails:function(e){var t=this;this.userId=e;var a=this.page1;this.dialogLoading=!0,this.$api.money.user_bill_details(function(e){t.dialogLoading=!1,t.billData=e.result,t.billCount=e.billCount,t.total1=e.pageInfo.total,t.size1=e.pageInfo.pageSize,t.count1=e.pageInfo.pages},{pageNum:a,userId:parseInt(e)})}}},n=a("XyMi");var o=function(e){a("jfAS")},i=Object(n.a)(l,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{name:""}}},[e._v("财务管理")]),e._v(" "),a("el-breadcrumb-item",{staticClass:"now_page"},[e._v("用户账单")])],1),e._v(" "),a("header",[a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",size:"mini",clearable:""},model:{value:e.selectInput,callback:function(t){e.selectInput=t},expression:"selectInput"}},[a("el-option",{attrs:{label:"用户名",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"手机号",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"微博号",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"微信号",value:"3"}})],1),e._v(" "),a("el-input",{staticClass:"searchInput",attrs:{size:"mini",placeholder:"请输入搜索信息",clearable:""},model:{value:e.search.username,callback:function(t){e.$set(e.search,"username",t)},expression:"search.username"}}),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(t){e.showList()}}},[e._v("查询")]),e._v(" "),a("div",{staticClass:"door"},[a("p",[e._v("当前提现手续费： "),a("span",[e._v(e._s(e.lowMoney.pushMoney))]),e._v(" %")]),e._v(" "),a("p",[e._v("当前提现门槛： "),a("span",[e._v(e._s(e.lowMoney.minimumWithdrawalAmount))]),e._v(" ≤金币")])])],1),e._v(" "),a("section",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%","margin-top":"15px"},attrs:{data:e.tableData,border:"",size:"mini"}},[a("el-table-column",{attrs:{prop:"userName",label:"用户名",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userSex",label:"性别",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(0==t.row.userSex?"女":1==t.row.userSex?"男":"")+"\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"级别",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(0==t.row.role?"大V":1==t.row.role?"新秀":"")+"\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"封禁状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(0==t.row.currentState?"未封禁":1==t.row.currentState?"已封禁":"")+"\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"是否实名",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(0==t.row.authentication?"未认证":1==t.row.authentication?"已认证":2==t.row.authentication?"认证中":"")+"\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"解锁时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(e._f("moment")(""==t.row.unlockTime?"-":new Date(t.row.unlockTime),"YYYY-MM-DD HH:mm:ss"))+"\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"剩余解锁天数",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(1==t.row.currentState?t.row.unlockDay+"天":"-")+"\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"被封禁次数",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(t.row.numberBanned+"次")+"\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"用户账户余额",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(t.row.balance+"金币")+"\n                ")]}}])}),e._v(" "),1==e.wxShow?a("el-table-column",{attrs:{prop:"wechatName",label:"微信名",align:"center"}}):e._e(),e._v(" "),1==e.wbshow?a("el-table-column",{attrs:{prop:"weiBoName",label:"微博名",align:"center"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"date",label:"查看明细",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){e.dialogVisible=!0,e.getDetails(t.row.userId)}}},[e._v("查看明细")])]}}])})],1),e._v(" "),a("div",{staticClass:"block",staticStyle:{float:"right","margin-top":"15px"}},[a("el-pagination",{attrs:{layout:"total,prev, pager, next","page-size":e.size,background:"","page-count":e.count,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"账单明细",visible:e.dialogVisible,width:"55%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[0!==e.billData.length?a("main",{directives:[{name:"loading",rawName:"v-loading",value:e.dialogLoading,expression:"dialogLoading"}]},[a("div",{staticClass:"billCount"},[a("h4",[e._v("总计：")]),e._v(" "),a("p",[e._v("实时收入总计: "),a("span",[e._v(e._s(e.billCount.liveChatCollection))])]),e._v(" "),a("p",[e._v("充值总计: "),a("span",[e._v(e._s(e.billCount.recharge))])]),e._v(" "),a("p",[e._v("预约收入总计: "),a("span",[e._v(e._s(e.billCount.bookingChatIncome))])]),e._v(" "),a("p",[e._v("预约聊天总计: "),a("span",[e._v(e._s(e.billCount.appointmentChat))])]),e._v(" "),a("p",[e._v("购买语音总计: "),a("span",[e._v(e._s(e.billCount.buyVoice))])]),e._v(" "),a("p",[e._v("实时聊天总计: "),a("span",[e._v(e._s(e.billCount.liveChat))])]),e._v(" "),a("p",[e._v("商城收入总计: "),a("span",[e._v(e._s(e.billCount.mallIncome))])]),e._v(" "),a("p",[e._v("提现成功总计: "),a("span",[e._v(e._s(e.billCount.withdrawalTotal))])])]),e._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"15px"},attrs:{data:e.billData,border:"",size:"mini"}},[a("el-table-column",{attrs:{prop:"createTime",label:"日期",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"liveChatCollection",label:"实时收入/金币",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bookingChatIncome",label:"预约收入/金币",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"appointmentChat",label:"预约聊天/金币",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"buyVoice",label:"购买语音/金币",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"liveChat",label:"实时聊天/金币",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mallIncome",label:"商城收入/金币",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"recharge",label:"充值/元",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"withdrawalTotal",label:"提现成功/元",align:"center"}})],1),e._v(" "),a("div",{staticClass:"block",staticStyle:{"margin-top":"15px"}},[a("el-pagination",{attrs:{layout:"total,prev, pager, next","page-size":e.size1,background:"","page-count":e.count1,total:e.total1},on:{"current-change":e.handleCurrentChange1}})],1)],1):a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.dialogLoading,expression:"dialogLoading"}],staticClass:"noneBill"},[a("h4",[e._v("该用户暂无生成账单")])])])],1)},[],!1,o,"data-v-19063e16",null);t.default=i.exports},jfAS:function(e,t){}});