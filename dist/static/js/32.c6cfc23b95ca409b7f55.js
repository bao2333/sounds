webpackJsonp([32],{cqXl:function(e,t){},"xka+":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Xxa5"),r=a.n(n),l=a("exGp"),s=a.n(l),o=a("Av7u"),i=a.n(o),m={name:"userRecord",data:function(){return{loading:!1,printType:!0,search:{item:"0",jingzhun:""},form:{date:"",dateItem:"",minNum:null,maxNum:null,numItem:""},tableData:[],page:1,total:null,size:null,count:null}},created:function(){this.selectRrcord()},methods:{handleCurrentChange:function(e){this.page=e,this.selectRrcord(),this.jingzhunSearch()},selectRrcord:function(){var e=this,t=this.page;this.loading=!0,this.printType=!0,this.$api.user.search_shaixuan(function(t){e.loading=!1,e.tableData=t.result,e.total=t.pageInfo.total,e.size=t.pageInfo.pageSize,e.count=t.pageInfo.pages},{pageNum:t,registerStart:1==this.form.item?this.form.date[0]:"",registerEnd:1==this.form.item?this.form.date[1]:"",loginTimeStart:2==this.form.item?this.form.date[0]:"",loginTimeEnd:2==this.form.item?this.form.date[1]:"",birthdayStart:3==this.form.item?this.form.date[0]:"",birthdayEnd:3==this.form.item?this.form.date[1]:"",allWithdrawStart:2==this.form.numItem?parseInt(this.form.minNum):"",allWithdrawEnd:2==this.form.numItem?parseInt(this.form.maxNum):"",balanceStart:1==this.form.numItem?parseInt(this.form.minNum):"",balanceEnd:1==this.form.numItem?parseInt(this.form.maxNum):"",fansStart:5==this.form.numItem?parseInt(this.form.minNum):"",fansEnd:5==this.form.numItem?parseInt(this.form.maxNum):"",followStart:6==this.form.numItem?parseInt(this.form.minNum):"",followEnd:6==this.form.numItem?parseInt(this.form.maxNum):"",reportNumStart:3==this.form.numItem?parseInt(this.form.minNum):"",reportNumEnd:3==this.form.numItem?parseInt(this.form.maxNum):"",beReportNumStart:4==this.form.numItem?parseInt(this.form.minNum):"",beReportNumEnd:4==this.form.numItem?parseInt(this.form.maxNum):""})},jingzhunSearch:function(){var e=this;this.printType=!1,this.loading=!0;var t=this.page;this.$api.user.search_jz(function(t){e.loading=!1,e.tableData=t.result,e.total=t.pageInfo.total,e.size=t.pageInfo.pageSize},{pageNum:t,type:parseInt(this.search.item),name:this.search.jingzhun})},print:function(e){var t=this;return s()(r.a.mark(function a(){var n,l;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,window.localStorage.getItem("miyu.userId");case 2:return n=a.sent,a.next=5,window.localStorage.getItem("miyu.token");case 5:l=a.sent,1==e&&(t.page=null),t.$ajax.get("/user/screeningSearchPrint",{params:{pageNum:t.page,registerStart:1==t.form.item?t.form.date[0]:null,registerEnd:1==t.form.item?t.form.date[1]:null,loginTimeStart:2==t.form.item?t.form.date[0]:null,loginTimeEnd:2==t.form.item?t.form.date[1]:null,birthdayStart:3==t.form.item?t.form.date[0]:null,birthdayEnd:3==t.form.item?t.form.date[1]:null,allWithdrawStart:2==t.form.numItem?parseInt(t.form.minNum):null,allWithdrawEnd:2==t.form.numItem?parseInt(t.form.maxNum):null,balanceStart:1==t.form.numItem?parseInt(t.form.minNum):null,balanceEnd:1==t.form.numItem?parseInt(t.form.maxNum):null,fansStart:5==t.form.numItem?parseInt(t.form.minNum):null,fansEnd:5==t.form.numItem?parseInt(t.form.maxNum):null,followStart:6==t.form.numItem?parseInt(t.form.minNum):null,followEnd:6==t.form.numItem?parseInt(t.form.maxNum):null,reportNumStart:3==t.form.numItem?parseInt(t.form.minNum):null,reportNumEnd:3==t.form.numItem?parseInt(t.form.maxNum):null,beReportNumStart:4==t.form.numItem?parseInt(t.form.minNum):null,beReportNumEnd:4==t.form.numItem?parseInt(t.form.maxNum):null,token:i.a.enc.Base64.stringify(i.a.enc.Utf8.parse(n+":"+l))}}).then(function(e){var t=e.request.responseURL;window.location.href=t}).catch(function(e){console.log(e)});case 8:case"end":return a.stop()}},a,t)}))()},printJingzhun:function(e){var t=this;return s()(r.a.mark(function a(){var n,l;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,window.localStorage.getItem("miyu.userId");case 2:return n=a.sent,a.next=5,window.localStorage.getItem("miyu.token");case 5:l=a.sent,1==e&&(t.page=null),t.$ajax.get("/user/advancedSearchPrint",{params:{type:parseInt(t.search.item),name:""==t.search.jingzhun?null:t.search.jingzhun,pageNum:t.page,token:i.a.enc.Base64.stringify(i.a.enc.Utf8.parse(n+":"+l))}}).then(function(e){var t=e.request.responseURL;window.location.href=t}).catch(function(e){console.log(e)});case 8:case"end":return a.stop()}},a,t)}))()}}},u=a("XyMi");var c=function(e){a("cqXl")},p=Object(u.a)(m,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"all"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/users/list"}}},[e._v("用户管理")]),e._v(" "),a("el-breadcrumb-item",{staticClass:"now_page"},[e._v("档案搜索")])],1),e._v(" "),a("section",{staticClass:"section_jingzhun"},[a("h3",[e._v("精准搜索")]),e._v(" "),a("div",[a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",size:"small",clearable:""},model:{value:e.search.item,callback:function(t){e.$set(e.search,"item",t)},expression:"search.item"}},[a("el-option",{attrs:{label:"用户名",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"手机号",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"微博号",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"微信号",value:"3"}})],1),e._v(" "),a("el-input",{staticClass:"searchInput",attrs:{placeholder:"精准搜索",size:"small","prefix-icon":"el-icon-search"},model:{value:e.search.jingzhun,callback:function(t){e.$set(e.search,"jingzhun",t)},expression:"search.jingzhun"}}),e._v(" "),a("el-button",{staticClass:"searchButton",attrs:{size:"small"},on:{click:function(t){e.jingzhunSearch()}}},[e._v("搜索档案")])],1)]),e._v(" "),a("hr"),e._v(" "),a("section",{staticClass:"section_shaixuan"},[a("h3",[e._v("筛选搜索")]),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"日期搜索:"}},[a("el-date-picker",{staticStyle:{width:"380px"},attrs:{type:"daterange","value-format":"timestamp","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",size:"small"},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}}),e._v(" "),a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",size:"small",clearable:""},model:{value:e.form.item,callback:function(t){e.$set(e.form,"item",t)},expression:"form.item"}},[a("el-option",{attrs:{label:"注册时间",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"最近登录时间",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"信息生日",value:"3"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"数量搜索:"}},[a("el-input",{staticClass:"search_num",attrs:{placeholder:"最小整数",size:"small"},model:{value:e.form.minNum,callback:function(t){e.$set(e.form,"minNum",t)},expression:"form.minNum"}}),e._v(" "),a("span",{staticStyle:{padding:"0 10px"}},[e._v("---------------")]),e._v(" "),a("el-input",{staticClass:"search_num",attrs:{placeholder:"最大整数",size:"small"},model:{value:e.form.maxNum,callback:function(t){e.$set(e.form,"maxNum",t)},expression:"form.maxNum"}}),e._v(" "),a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",size:"small",clearable:""},model:{value:e.form.numItem,callback:function(t){e.$set(e.form,"numItem",t)},expression:"form.numItem"}},[a("el-option",{attrs:{label:"账户余额",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"总提现",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"举报别人",value:"3"}}),e._v(" "),a("el-option",{attrs:{label:"被人举报",value:"4"}}),e._v(" "),a("el-option",{attrs:{label:"粉丝数",value:"5"}}),e._v(" "),a("el-option",{attrs:{label:"关注数",value:"6"}})],1)],1),e._v(" "),a("el-button",{staticClass:"formButton",attrs:{size:"small",icon:"el-icon-search"},on:{click:function(t){e.selectRrcord()}}},[e._v("搜索档案")])],1)],1),e._v(" "),a("hr"),e._v(" "),a("main",[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.printType,expression:"printType"}],staticClass:"click_dangan",staticStyle:{"margin-left":"10px"},attrs:{size:"small",plain:""},on:{click:function(t){e.print(0)}}},[e._v(" 打印当前页")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.printType,expression:"printType"}],staticClass:"click_dangan",staticStyle:{"margin-left":"10px"},attrs:{size:"small",plain:""},on:{click:function(t){e.print(1)}}},[e._v(" 打印全部")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.printType,expression:"!printType"}],staticClass:"click_dangan",staticStyle:{"margin-left":"10px"},attrs:{size:"small",plain:""},on:{click:function(t){e.printJingzhun(0)}}},[e._v(" 打印当前页精准")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.printType,expression:"!printType"}],staticClass:"click_dangan",staticStyle:{"margin-left":"10px"},attrs:{size:"small",plain:""},on:{click:function(t){e.printJingzhun(1)}}},[e._v(" 打印全部精准")]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%","margin-top":"15px"},attrs:{data:e.tableData,size:"small",border:""}},[a("el-table-column",{attrs:{label:"注册时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e._f("moment")(new Date(t.row.createTime),"YYYY-MM-DD HH:mm:ss"))+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"账户名称",align:"center"}}),e._v(" "),3==e.search.item?a("el-table-column",{attrs:{prop:"wechatName",label:"微信名",align:"center"}}):e._e(),e._v(" "),2==e.search.item?a("el-table-column",{attrs:{prop:"weiBoName",label:"微博名",align:"center"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{label:"性别",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(0==t.row.sex?"女":1==t.row.sex?"男":"")+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"role",label:"级别",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(0==t.row.role?"大V":1==t.row.role?"新秀":"")+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"手机号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"birthday",label:"生日",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"fansNum",label:"粉丝数",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"followNum",label:"关注数",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"balance",label:"账户余额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"reportCount",label:"举报数",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"beReportAllCount",label:"被举报数",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"rechargeSheetSum",label:"充值",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"incomeWithdrewSum",label:"提现",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"最后登录",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e._f("moment")(new Date(t.row.latestLogin),"YYYY-MM-DD HH:mm:ss"))+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"查看档案",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(a){e.$router.push({name:"userPersonalFile",params:{userId:t.row.id}})}}},[e._v("查看档案")])]}}])})],1),e._v(" "),a("div",{staticClass:"block",staticStyle:{float:"right","margin-top":"15px"}},[a("el-pagination",{attrs:{layout:"total,prev, pager, next","page-size":e.size,background:"","page-count":e.count,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)],1)},[],!1,c,"data-v-448c68aa",null);t.default=p.exports}});