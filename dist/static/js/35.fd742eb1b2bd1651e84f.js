webpackJsonp([35],{"6XZ4":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={name:"userClose",data:function(){return{loading:!1,tableData:[],searchName:"",page:1,total:null,size:null,count:null,chafengData:{},selectShow:!1}},created:function(){this.$route.params.name&&(this.searchName=this.$route.params.name),this.getList()},methods:{handleCurrentChange:function(e){this.page=e,this.getList()},getList:function(){var e=this,t=this.page;this.loading=!0,this.$api.jubao.chafeng_list(function(t){for(var a in e.loading=!1,e.tableData=t.result,e.tableData)e.$set(e.chafengData,a,"");console.log(e.chafengData),e.total=t.pageInfo.total,e.size=t.pageInfo.pageSize,e.count=t.pageInfo.pages},{pageNum:t,name:""==this.searchName?null:this.searchName})},jiedong:function(e){var t=this;this.$confirm("确定要解冻该用户吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$api.jubao.jiedong(function(){t.$notify({type:"success",message:"解冻成功!",title:"成功"}),t.getList()},{userId:e})}).catch(function(){t.$message({type:"info",message:"已取消"})})},chafengPost:function(e,t){var a=this;this.$confirm("确定要追加查封该用户 "+this.chafengData[e]+" 天吗？","提示",{confirmButtonText:"狠心查封",cancelButtonText:"取消",type:"warning"}).then(function(){a.selectShow=!0,a.$api.jubao.jubao_sealUp(function(){a.$notify({type:"success",message:"查封用户成功!",title:"成功"}),a.getList(),a.chafengData[e]="",a.selectShow=!1},{userId:t,day:parseInt(a.chafengData[e])})}).catch(function(){a.$message({type:"info",message:"已取消"})})}}},l=a("XyMi");var s=function(e){a("FM46")},o=Object(l.a)(n,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{name:""}}},[e._v("举报管理")]),e._v(" "),a("el-breadcrumb-item",{staticClass:"now_page"},[e._v("查封账户")])],1)],1),e._v(" "),a("section",[a("el-input",{staticStyle:{display:"inline-block",width:"200px"},attrs:{placeholder:"请输入被举报人姓名",size:"mini",clearable:""},model:{value:e.searchName,callback:function(t){e.searchName=t},expression:"searchName"}}),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.getList()}}},[e._v("查询")]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%","margin-top":"15px"},attrs:{data:e.tableData,border:"",size:"small"}},[a("el-table-column",{attrs:{prop:"name",label:"被举报人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"被举报总数",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(null==t.row.allCount?0:t.row.allCount)+"\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"countONWeekday",label:"这周被举报",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"查封时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(e._f("moment")(new Date(t.row.startTime),"YYYY-MM-DD HH:mm:ss"))+"\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"解封时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(e._f("moment")(new Date(t.row.endTime),"YYYY-MM-DD HH:mm:ss"))+"\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"当前状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(0==t.row.status?"封禁中":1==t.row.status?"已解封":"")+"\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"封禁天数",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(t.row.day)+"\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"解冻账户",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){e.jiedong(t.row.userId)}}},[e._v("解冻账户")]),e._v(" "),1==t.row.status?a("el-button",{attrs:{type:"danger",size:"mini",disabled:""}},[e._v("解冻账户")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"查封",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"选择查封天数",disabled:e.selectShow,size:"mini"},on:{change:function(a){e.chafengPost(t.$index,t.row.userId)}},model:{value:e.chafengData[t.$index],callback:function(a){e.$set(e.chafengData,t.$index,a)},expression:"chafengData[props.$index]"}},[a("el-option",{attrs:{label:"再+3天",value:"3"}}),e._v(" "),a("el-option",{attrs:{label:"再+1周",value:"7"}}),e._v(" "),a("el-option",{attrs:{label:"再+1个月",value:"30"}}),e._v(" "),a("el-option",{attrs:{label:"查封永久",value:"36500"}})],1)]}}])})],1),e._v(" "),a("div",{staticClass:"block",staticStyle:{float:"right","margin-top":"15px"}},[a("el-pagination",{attrs:{layout:"total,prev, pager, next","page-size":e.size,background:"","page-count":e.count,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)],1)])},[],!1,s,"data-v-455edce3",null);t.default=o.exports},FM46:function(e,t){}});