webpackJsonp([37],{"0a5y":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={name:"role",data:function(){return{dialogVisible:!1,type:"",tableData:[],form:{id:"",name:"",phone:"",password:"",newPassword:""}}},created:function(){this.getList()},methods:{getList:function(){var t=this;this.$api.set.role_list(function(e){t.tableData=e})},getType:function(t,e){this.type=t,2==t?(this.form.name=e.name,this.form.phone=e.phone,this.form.id=e.id):0==t?(this.form.name="",this.form.phone="",this.form.password=""):1==t&&(console.log(e),this.form.id=e)},addPost:function(){var t=this;this.$api.set.role_add(function(){t.$notify({type:"success",message:"添加成功",title:"成功"}),t.getList()},{name:this.form.name,phone:this.form.phone,password:this.form.password})},editorPost:function(){var t=this;this.$api.set.role_editor(function(){t.$notify({type:"success",message:"修改成功",title:"成功"}),t.getList()},{id:this.form.id,name:this.form.name,phone:this.form.phone})},deletePost:function(t){var e=this;this.$confirm("确定要删除此管理员吗?","提示",{confirmButtonText:"狠心删除",cancelButtonText:"取消",type:"warning"}).then(function(){e.$api.set.role_delete(function(){e.$notify({type:"success",message:"删除成功",title:"成功"}),e.getList()},{id:t})}).catch(function(){e.$message({type:"info",message:"已取消"})})},resetPassword:function(){var t=this;this.$confirm("确定要重置该管理员的密码吗?","提示",{confirmButtonText:"重置",cancelButtonText:"取消",type:"warning"}).then(function(){t.$api.set.role_reset(function(e){t.$notify({type:"success",message:"密码重置成功！",title:"成功"}),t.form.newPassword=e},{id:t.form.id})}).catch(function(){t.$message({type:"info",message:"已取消"})})}}},s=i("XyMi");var n=function(t){i("rPlc")},a=Object(s.a)(o,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.dialogVisible=!0,t.getType(0)}}},[t._v("添加")]),t._v(" "),i("el-table",{staticStyle:{width:"100%","margin-top":"15px"},attrs:{data:t.tableData,border:"",size:"small"}},[i("el-table-column",{attrs:{prop:"name",label:"账号",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{prop:"phone",label:"手机号",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{label:"操作",align:"center",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(i){t.dialogVisible=!0,t.getType(1,e.row.id)}}},[t._v("重置密码")]),t._v(" "),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(i){t.dialogVisible=!0,t.getType(2,e.row)}}},[t._v("修改")]),t._v(" "),i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(i){t.deletePost(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),i("el-dialog",{attrs:{title:0==t.type?"添加":1==t.type?"重置密码":2==t.type?"修改":"",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[0==t.type||2==t.type?i("el-form-item",{attrs:{label:"账号"}},[i("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1):t._e(),t._v(" "),0==t.type||2==t.type?i("el-form-item",{attrs:{label:"手机号"}},[i("el-input",{model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1):t._e(),t._v(" "),0==t.type?i("el-form-item",{attrs:{label:"密码"}},[i("el-input",{model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1):t._e(),t._v(" "),1==t.type?i("el-form-item",{attrs:{label:"新密码"}},[i("el-input",{attrs:{readonly:""},model:{value:t.form.newPassword,callback:function(e){t.$set(t.form,"newPassword",e)},expression:"form.newPassword"}})],1):t._e()],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"mini"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),0==t.type?i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.dialogVisible=!1,t.addPost()}}},[t._v("添 加")]):t._e(),t._v(" "),1==t.type?i("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(e){t.resetPassword()}}},[t._v("重置密码")]):t._e(),t._v(" "),2==t.type?i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.dialogVisible=!1,t.editorPost()}}},[t._v("修 改")]):t._e()],1)],1)],1)},[],!1,n,"data-v-2b876e50",null);e.default=a.exports},rPlc:function(t,e){}});