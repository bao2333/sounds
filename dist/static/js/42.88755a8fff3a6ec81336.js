webpackJsonp([42],{"1F26":function(t,e){},CUWp:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={name:"userReport",data:function(){return{loading:!1,form:{jubao:"30",count:"1"},tableData:[],chafengData:{},page:1,total:null,size:null,count:null}},created:function(){this.getList()},methods:{handleCurrentChange:function(t){this.page=t,this.getList()},getList:function(){var t=this;this.loading=!0;var e=this.page;this.$api.jubao.jubao_list(function(e){for(var a in t.loading=!1,t.tableData=e.result,t.tableData)t.$set(t.chafengData,a,"");t.total=e.pageInfo.total,t.size=e.pageInfo.pageSize,t.count=e.pageInfo.pages},{pageNum:e,day:""==this.form.jubao?30:parseInt(this.form.jubao),times:""==this.form.count?10:parseInt(this.form.count)})},chafengPost:function(t,e){var a=this;this.$confirm("确定要查封该用户 "+this.chafengData[t]+" 天吗？","提示",{confirmButtonText:"狠心查封",cancelButtonText:"取消",type:"warning"}).then(function(){a.$api.jubao.jubao_sealUp(function(){a.$notify({type:"success",message:"查封用户成功!",title:"成功"}),a.getList(),a.chafengData[t]=""},{userId:e,day:parseInt(a.chafengData[t])})}).catch(function(){a.$message({type:"info",message:"已取消"})})}}},l=a("XyMi");var o=function(t){a("1F26")},i=Object(l.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{name:""}}},[t._v("举报管理")]),t._v(" "),a("el-breadcrumb-item",{staticClass:"now_page"},[t._v("用户举报")])],1)],1),t._v(" "),a("header",[a("div",{staticClass:"formJubao"},[a("div",[t._v("\n                被举报时间：\n                "),a("el-input",{staticStyle:{display:"inline-block",width:"200px"},attrs:{placeholder:"请输入举报天数",size:"mini"},model:{value:t.form.jubao,callback:function(e){t.$set(t.form,"jubao",e)},expression:"form.jubao"}}),t._v("\n                （每个用户每天只能举报同一个用户一次）\n            ")],1),t._v(" "),a("div",{staticClass:"two"},[t._v("\n                被举报次数：\n                "),a("el-input",{staticStyle:{display:"inline-block",width:"200px"},attrs:{placeholder:"请输入举报次数",size:"mini"},model:{value:t.form.count,callback:function(e){t.$set(t.form,"count",e)},expression:"form.count"}}),t._v("\n                （请输入整数）\n                "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.getList()}}},[t._v("查询")])],1)]),t._v(" "),a("section",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%","margin-top":"15px"},attrs:{data:t.tableData,border:"",size:"small"}},[a("el-table-column",{attrs:{label:"举报时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(t._f("moment")(new Date(e.row.createTime),"YYYY-MM-DD HH:mm:ss"))+"\n                    ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"reportUserName",label:"举报人",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"beReportUserName",label:"被举报人名字",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"count",label:"被举报次数",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"reasonName",label:"举报理由",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"查封",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"选择查封天数",size:"mini"},on:{change:function(a){t.chafengPost(e.$index,e.row.beReportUserId)}},model:{value:t.chafengData[e.$index],callback:function(a){t.$set(t.chafengData,e.$index,a)},expression:"chafengData[props.$index]"}},[a("el-option",{attrs:{label:"查封三天",value:"3"}}),t._v(" "),a("el-option",{attrs:{label:"查封一周",value:"7"}}),t._v(" "),a("el-option",{attrs:{label:"查封一个月",value:"30"}}),t._v(" "),a("el-option",{attrs:{label:"查封永久",value:"36500"}})],1)]}}])})],1),t._v(" "),a("div",{staticClass:"block",staticStyle:{float:"right","margin-top":"15px"}},[a("el-pagination",{attrs:{layout:"total,prev, pager, next","page-size":t.size,background:"","page-count":t.count,total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1)])])},[],!1,o,"data-v-1a8cf688",null);e.default=i.exports}});